

<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>使用Hugo搭建个人博客 - 景蓝的小屋</title>
     
    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    
    <link rel="stylesheet" href="/css/global.css" />
    
    <link rel="stylesheet" href="/css/newsroom.css" />
      
    <link rel="stylesheet" href="/css/post.css" />
     
    <link rel="stylesheet" href="/css/links.css" />
        <link rel="apple-touch-icon" sizes="76x76" href="https://unpkg.com/yurik-static@1.0.6/favicon/v2/apple-touch-icon.png"> <link rel="icon" href="https://unpkg.com/yurik-static@1.0.6/favicon/v2/favicon.ico">
  <meta name="generator" content="Hexo 7.0.0"><link rel="alternate" href="/feed.xml" title="景蓝的小屋" type="application/rss+xml">
</head>
  <body>
    <nav
      class="navbar navbar-expand-lg bg-body-tertiary fixed-top navbar-origin"
      style="backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px)"
      id="navbar"
      data-bs-theme="white"
    >
      <div class="container">
        <a class="navbar-brand fw-bold" href="#">景蓝的小屋</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarCollapse"
          aria-controls="navbarCollapse"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            
            <li class="nav-item">
              <a
                class="nav-link"
                aria-current="page"
                href="/"
                >主页</a
              >
            </li>
            
            <li class="nav-item">
              <a
                class="nav-link"
                aria-current="page"
                href="/about"
                >关于</a
              >
            </li>
            
            <li class="nav-item">
              <a
                class="nav-link"
                aria-current="page"
                href="/links"
                >友情链接</a
              >
            </li>
            
          </ul>
        </div>
      </div>
    </nav>

    <main>
      <div id="content" class="container section-content py-5 mt-5">
        <article id="post" class="post">
  <div id="header">
    <div class="category" style="color: #6e6e73">
      <div class="content">
        <div class="category-eyebrow">
          <span>博文</span> ·
          <span>2022 年 02 月 13 日</span>
        </div>
      </div>
    </div>

    <div class="pagetitle">
      <div class="content">
        <h1 class="hero-headline" style="margin-top: 0.75rem !important">
          使用Hugo搭建个人博客
        </h1>
      </div>
    </div>
  </div>
  <div class="mt-5">
    <div class="content"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="我为什么选择-Hugo"><a href="#我为什么选择-Hugo" class="headerlink" title="我为什么选择 Hugo"></a>我为什么选择 Hugo</h2><p>Hugo 是一个使用<strong>Go</strong>语言编写的静态网站生成器。<br>长期续费一个稳定的虚拟主机的费用是昂贵的，因此我放弃了原先的<strong>Typecho</strong>系统，转而寻找静态博客系统。在尝试了<strong>Hexo</strong>、<strong>Jekyll</strong>后，我选择了<strong>Hugo</strong>，原因首先是它支持 Markdown 语法，这使得我将文章从 Typecho 迁移至 Hugo 变得容易，其次是<a target="_blank" rel="noopener" href="https://github.com/CaiJimmy/hugo-theme-stack"><strong>Stack</strong></a>主题仅适用于 Hugo (搭建博客第一要领：好看)</p>
<h2 id="网页托管"><a href="#网页托管" class="headerlink" title="网页托管"></a>网页托管</h2><p>说起网页托管，大家第一想到的大概都是<a target="_blank" rel="noopener" href="https://pages.github.com/"><strong>Github Pages</strong></a>吧，最初我也是使用 gh 来对生成的动态页面进行托管，可长期使用下来我发现 gh pages 存在一些问题：</p>
<ol>
<li>github pages 会对绑定的域名进行 cname 验证，而 Cloudflare 默认将主域名的 CNAME 拉平成 A 解析，这导致我的域名一周多了还没有通过验证</li>
<li>Github Pages 默认给每个域名申请免费的 SSL 证书，而我的一个域名出现了 SSL 证书出错的情况 😓，最后也没排查出是域名还是 gh pages 的问题</li>
<li>可能会有 DNS 污染导致 github.io 无法访问</li>
<li>不支持 PHP，导致我原先的一些脚本无法使用</li>
</ol>
<p>为了解决这些问题，我在知乎游了一圈，发现了一个宝藏部署服务：<a target="_blank" rel="noopener" href="https://vercel.com/"><strong>Vercel</strong></a></p>
<p>Vercel 有以下优点：</p>
<ol>
<li><p>访问速度比 Github Pages 快</p>
</li>
<li><p>比 Github Pages 稳定</p>
</li>
<li><p>自带 SSL 证书</p>
</li>
<li><p>支持将域名 DNS 服务器迁移至 Vercel</p>
</li>
</ol>
<p><img src="/2022/hugo-blog/vercel.png" alt="Vercel主页"></p>
<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><h2 id="安装-Hugo"><a href="#安装-Hugo" class="headerlink" title="安装 Hugo"></a>安装 Hugo</h2><blockquote>
<p>本文仅展示使用 Windows 安装 Hugo</p>
<p>本教程中使用 <a target="_blank" rel="noopener" href="https://scoop.sh/"><strong>scoop</strong>软件包管理器</a> 安装</p>
<p>其余方法大同小异，请自行使用搜索引擎搜索</p>
<p>安装 scoop，请看这篇文章：<a href="/p/install-scoop/">Scoop - 一款强大的 Windows 包管理工具</a></p>
</blockquote>
<p><code>win</code> + <code>r</code> 打开运行窗口</p>
<p><img src="/2022/hugo-blog/run-windows.png" alt="运行"></p>
<p>输入<code>Powershell</code></p>
<p>在打开的窗口中输入</p>
<p><code>scoop install hugo</code></p>
<p>或者用以下方式安装扩展版本</p>
<p><code>scoop install hugo-extended</code></p>
<p>当控制台显示<code>&#39;hugo&#39; (0.92.2) was installed successfully!</code>时代表安装已完成</p>
<blockquote>
<p>若选择安装拓展版本，则当显示<code>&#39;hugo&#39; (0.92.2) was installed successfully!</code>时代表安装已完成</p>
</blockquote>
<blockquote>
<p>括号内版本号以最新版本为准</p>
</blockquote>
<h2 id="创建站点"><a href="#创建站点" class="headerlink" title="创建站点"></a>创建站点</h2><h3 id="初始化站点"><a href="#初始化站点" class="headerlink" title="初始化站点"></a>初始化站点</h3><p>在控制台中输入<code>hugo new site 路径</code>新建一个站点</p>
<p>如<code>hugo new site E:\myblog</code></p>
<p>这个命令将在 E 盘中创建一个名为 myblog 的目录并在此中创建一个新的 hugo 站点</p>
<h3 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h3><p>由于新站点中无主题，因此无法渲染，所以我们需要安装一个新主题</p>
<p>在本文中选择从 hexo 移植的<a target="_blank" rel="noopener" href="https://github.com/elkan1788/hugo-theme-next">Next 主题</a></p>
<p>进入站点根目录后，使用 git 获取主题</p>
<p><code>git clone https://github.com/elkan1788/hugo-theme-next.git themes/hugo-theme-next</code></p>
<p>复制站点根目录&#x2F;theme&#x2F;hugo-theme-next&#x2F;exampleSite 中的文件并粘贴至站点根目录后覆盖</p>
<p>运行<code>hugo server</code></p>
<p>恭喜你，你的 hugo 博客已成功运行</p>
<h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><p>参见新博文 <a href="https://yurik.cafe/2023/use-vercel-introduction/">使用 Vercel 托管静态网页</a></p>
</div>
  </div>
</article>

<div id="paginator"></div>

        <footer class="container pt-3 mt-4 border-top">
          <div class="text-center pb-5 text-body-secondary">
            <small>
              Copyright © 2022 -
              <script>
                document.write(new Date().getFullYear());
              </script>
              Yurik all rights reserved. <br />
              <a href="https://hexo.io" target="_blank" rel="nofollow noopener"
                ><span>Hexo</span></a
              >
              ♥
              <span
                ><a
                  href="https://yurik.cafe"
                  target="_blank"
                  rel="nofollow noopener"
                  >NewsRoom</a
                >
                By
                <a
                  href="https://yurik.cafe"
                  target="_blank"
                  rel="nofollow noopener"
                  >Yurik</a
                ></span
              ><br />
            </small>

            <span id="running_times" >本站勉强运行: <span id="runDays">0</span>天<span id="runHours" >0</span >小时<span id="runMins">0</span>分<span id="runSeconds">0</span >秒 <script> function runtime() { X = new Date("2022/3/07 00:00:00"); Y = new Date(); T = Y.getTime() - X.getTime(); M = 24 * 60 * 60 * 1000; a = T / M; A = Math.floor(a); b = (a - A) * 24; B = Math.floor(b); c = (b - B) * 60; C = Math.floor((b - B) * 60); D = Math.floor((c - C) * 60);
document.getElementById("runDays").innerHTML = A; document.getElementById("runHours").innerHTML = B; document.getElementById("runMins").innerHTML = C; document.getElementById("runSeconds").innerHTML = D; } setInterval(runtime, 1000); </script> </span>
          </div>
        </footer>
      </div>
    </main>

     
    <script src="/js/navbar.js"></script>
    
    <script src="/js/bootstrap.bundle.min.js"></script>
     
  </body>
</html>
